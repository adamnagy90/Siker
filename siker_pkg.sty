\ProvidesPackage{siker_pkg}

\usepackage[magyar]{babel}
\usepackage{t1enc}
\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{siunitx}
\sisetup{locale = DE}
\usepackage{lipsum}
\usepackage[pdfusetitle]{hyperref}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=black,
    urlcolor=black
    }
\usepackage{titling}
\usepackage{emptypage}

\geometry{a5paper}

% Fejléc és lábléc
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[RO]{\thepage}
}

\fancypagestyle{my_fancy}{
    \fancyhead{}
    \fancyhead[LE]{\leftmark}
    \fancyfoot{}
    \fancyfoot[LE,RO]{\thepage}
}

\pagestyle{my_fancy}

\renewcommand{\chaptername}{}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesubsection\ #1}}

\usepackage{tikzsymbols}

% Felsorolások
\usepackage{enumitem}
\setlist[itemize]{topsep=3pt,itemsep=-1ex,partopsep=1ex,parsep=1ex,label={\rollingpin}}

% Hivatkozások
\usepackage[autostyle]{csquotes}
\usepackage[
    backend=biber,
    style=ieee,
    natbib=false,
    url=true,
    doi=true,
    eprint=false
]{biblatex}
\addbibresource{main.bib}

% Git commit hash https://gist.github.com/kbjarkefur/88820e5a5365b3f707b6b20aee57cf8a
% Two required libraries
\usepackage{xstring}
\usepackage{catchfile}

% Set user input
\newcommand{\gitfolder}{.git}             % Relative path to .git folder from .tex file
\newcommand{\reponame}{adamnagy90/siker}    % Name of account and repo. Will be included in URL

% Based on this https://tex.stackexchange.com/questions/455396/how-to-include-the-current-git-commit-id-and-branch-in-my-document
\CatchFileDef{\headfull}{\gitfolder/HEAD}{}               % Get path to head file for checked out branch
\StrGobbleRight{\headfull}{1}[\head]                      % Remove end of line character
\StrBehind[2]{\head}{/}[\branch]                          % Parse out the path only
\CatchFileDef{\commit}{\gitfolder/refs/heads/\branch}{}   % Get the content of the branch head
\StrGobbleRight{\commit}{1}[\commithash]                  % Remove end of line character

% Build the URL to this commit based on the information we now have
\newcommand{\commiturl}{\url{https://gitlab.com/\reponame/commit/\commithash}}
